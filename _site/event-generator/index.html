<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>Designing an Event Generator – Brandon McKinzie</title> <meta name="description" content="A bit of physics here, and a bit of computer science there."> <meta name="keywords" content="Brandon McKinzie, C++, LHC, physics"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://i.imgur.com/d5spxjP.png"> <meta name="twitter:title" content="Designing an Event Generator"> <meta name="twitter:description" content="Simulating particle collisions for the ALICE collaboration at the Large Hadron Collider."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Designing an Event Generator"> <meta property="og:description" content="Simulating particle collisions for the ALICE collaboration at the Large Hadron Collider."> <meta property="og:url" content="http://localhost:4000/event-generator/"> <meta property="og:site_name" content="Brandon McKinzie"> <meta property="og:image" content="http://localhost:4000/assets/img/Me.jpg"> <link rel="canonical" href="http://localhost:4000/event-generator/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Brandon McKinzie Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png"> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico"> <!-- Background Image --> <style type="text/css">body {background-image:url(http://i.imgur.com/oRIhuWM.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <style type="text/css">.feature {background-image:url(http://i.imgur.com/d5spxjP.png);}</style> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/Me.jpg" alt="Brandon McKinzie photo" class="author-photo"> <h4>Brandon McKinzie</h4> <p>A bit of physics here, and a bit of computer science there.</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:mckinziebrandon@berkeley.edu" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://linkedin.com/in/brandon-mckinzie-452a03112" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/mckinziebrandon" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> <li><a href="http://localhost:4000/research/">Research</a></li> <li><a href="http://localhost:4000/notes/">Notes</a></li> <li><a href="http://mckinziebrandon.me/TensorflowNotebooks" target="_blank" rel="noopener noreferrer">TensorFlow Notebooks</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title feature "> <h1>Designing an Event Generator</h1> <h4>27 Aug 2016</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~2 minutes </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/research/"> <i class="fa fa-chevron-left"></i> </a> </div> <p class="notice">Note: You can read my full paper <a href="http://localhost:4000/assets/pdf/papers/LBNL_ToyModelResearch.pdf">by clicking this link.</a></p> <h2 id="user-friendly-particle-physics">User-Friendly Particle Physics</h2> <p>One approach to analyzing the huge swaths of data at the Large Hadron Collider is by comparing experimental results with simulations. If you can reproduce piece-by-piece the observed data by writing simulations, your analysis gains some credibility. In general, simulations are great testing grounds for ideas that people may have but can’t exactly prove with pen and paper calculations.</p> <p>Unfortunately, there is <strong>a lot</strong> of “wheel-reinventing” going on in the experimental physics community. Although there are certainly great libraries that have gained widespread use like ROOT, PYTHIA, and FastJet, these libraries are more general-purpose.</p> <p>Below is a code snippet from a much larger project of mine that sought to bring a more natural interface to the process of event generation. The initial aim of the project was to write specific simulations for a single dataset recently published by the ALICE collaboration. It turned out to be a great opportunity to write a small simulation framework for creating and analyzing particle collision events, particularly events containing <strong>jets</strong>.</p> <figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="kt">void</span> <span class="nf">ToyModel</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">nEvents</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">Float_t</span> <span class="n">R</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" ======================================================================  </span><span class="se">\n</span><span class="s">"</span>
         <span class="o">&lt;&lt;</span> <span class="s">"                    BEGINNING TOYMODEL SIMULATION.                       </span><span class="se">\n</span><span class="s">"</span> 
         <span class="o">&lt;&lt;</span> <span class="s">" NUMBER OF EVENTS: "</span>   <span class="o">&lt;&lt;</span> <span class="n">nEvents</span> <span class="o">&lt;&lt;</span>                                    <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
         <span class="o">&lt;&lt;</span> <span class="s">" INPUT JET RADIUS: "</span>   <span class="o">&lt;&lt;</span> <span class="n">R</span>       <span class="o">&lt;&lt;</span>                                    <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
         <span class="o">&lt;&lt;</span> <span class="s">" IN DEBUGGING MODE:"</span>   <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">boolalpha</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">Printer</span><span class="o">::</span><span class="n">debug</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
         <span class="o">&lt;&lt;</span> <span class="s">" ======================================================================    "</span> 
         <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="cm">/* ------------------------------------------------ *
     * Object Declarations.                             *
     * ------------------------------------------------ */</span>
    <span class="n">EventGenerator</span><span class="o">*</span> <span class="n">eventGenerator</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">EventGenerator</span><span class="p">();</span>
    <span class="n">MyJetFinder</span><span class="o">*</span> <span class="n">jetFinder</span>          <span class="o">=</span> <span class="k">new</span> <span class="n">MyJetFinder</span><span class="p">(</span><span class="n">R</span><span class="p">);</span>

    <span class="cm">/* ------------------------------------------------ *
     * Data Generation/Simulation.                      *
     * ------------------------------------------------ */</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">Int_t</span> <span class="n">i_event</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i_event</span> <span class="o">&lt;</span> <span class="n">nEvents</span><span class="p">;</span> <span class="n">i_event</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Print progress updates.
</span>            <span class="n">Printer</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"Percent Complete: "</span><span class="p">,</span> <span class="n">i_event</span><span class="p">,</span>  <span class="n">nEvents</span><span class="p">);</span>
    
            <span class="c1">// Defined event centrality (and thus multiplicity).
</span>            <span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">SetCentrality</span><span class="p">(</span><span class="mf">2.5</span><span class="p">);</span> <span class="c1">// Cent = 2.5% is lowest available data point. 
</span>            <span class="n">Printer</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">Number of particles generated: "</span><span class="p">,</span> <span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">GetMultiplicity</span><span class="p">());</span>
    
            <span class="c1">// Generate specified number/types of particles.
</span>            <span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">Generate</span><span class="p">(</span><span class="s">"bkg"</span><span class="p">,</span> <span class="p">(</span><span class="n">Int_t</span><span class="p">)</span> <span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">GetMultiplicity</span><span class="p">());</span> 
            <span class="n">Printer</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">Number of reconstructed particles: "</span><span class="p">,</span> <span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">GetRecoMult</span><span class="p">());</span>
    
            <span class="c1">// Use ClusterSequence to get list of jets in this event.
</span>            <span class="n">jetFinder</span><span class="o">-&gt;</span><span class="n">FindJets</span><span class="p">(</span><span class="n">eventGenerator</span><span class="o">-&gt;</span><span class="n">GetLastEvent</span><span class="p">());</span>
            <span class="n">Printer</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">Number of jets found: "</span><span class="p">,</span> <span class="n">jetFinder</span><span class="o">-&gt;</span><span class="n">GetNumJets</span><span class="p">());</span>
    
            <span class="n">jetFinder</span><span class="o">-&gt;</span><span class="n">Clear</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span></code></pre></figure> <p class="notice">This page is still under construction. Stay tuned . . .</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#Brandon%20McKinzie" title="Pages tagged Brandon McKinzie" class="tag"><span class="term">Brandon McKinzie</span></a><a href="http://localhost:4000/tags/#C++" title="Pages tagged C++" class="tag"><span class="term">C++</span></a><a href="http://localhost:4000/tags/#LHC" title="Pages tagged LHC" class="tag"><span class="term">LHC</span></a><a href="http://localhost:4000/tags/#physics" title="Pages tagged physics" class="tag"><span class="term">physics</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/event-generator/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Like</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/event-generator/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/event-generator/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
